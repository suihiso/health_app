{% extends "base.html" %}

{% block title %}–û–±–∑–æ—Ä –¥–∞–Ω–Ω—ã—Ö{% endblock %}

{% block content %}
<h2>–û–±–∑–æ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h2>
<p><strong>–°—Ç—Ä–æ–∫:</strong> {{ shape[0] }} &nbsp; <strong>–°—Ç–æ–ª–±—Ü–æ–≤:</strong> {{ shape[1] }}</p>

<!-- –õ–∏–ø–∫–æ–µ –º–µ–Ω—é -->
<div class="anchor-nav mb-4 d-flex justify-content-between">
    <!-- –ö–Ω–æ–ø–∫–∏ —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏ -->
    <div>
        <a href="#head" class="btn btn-outline-primary btn-md" data-bs-toggle="tooltip"
            title="–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö">üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö</a>
        <a href="#stats" class="btn btn-outline-primary btn-md" data-bs-toggle="tooltip"
            title="–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        <a href="#dtypes" class="btn btn-outline-primary btn-md" data-bs-toggle="tooltip"
            title="–¢–∞–±–ª–∏—Ü–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö">üìÑ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</a>
        <a href="#nulls" class="btn btn-outline-primary btn-md" data-bs-toggle="tooltip"
            title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö">‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∏</a>
        <a href="#anomalies" class="btn btn-outline-primary btn-md" data-bs-toggle="tooltip"
            title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö">üîç –ê–Ω–æ–º–∞–ª–∏–∏</a>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–∞—è –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é -->
    <div class="ml-auto">
        <a href="{{ url_for('clean_data') }}" class="btn btn-outline-warning btn-md" data-bs-toggle="tooltip"
            title="–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö">üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</a>
    </div>
</div>

<hr id="head">
<h4>üìã –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö</h4>
<div class="table-responsive">
    {{ head | safe }}
</div>

{% if pagination %}
<div class="d-flex justify-content-between align-items-center my-1">
    <!-- –ö–Ω–æ–ø–∫–∏ "–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞" –∏ "–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞" –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–µ –ø–æ –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ -->
    <div class="btn-group">
        <a href="{{ url_for('explore', page=1) }}"
            class="btn btn-outline-primary {% if pagination.is_first_page %}disabled{% endif %}">
            –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        </a>
        <a href="{{ url_for('explore', page=pagination.total_pages) }}"
            class="btn btn-outline-primary {% if pagination.is_last_page %}disabled{% endif %}">
            –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        </a>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–æ–∫–∞—Ö –∏ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–µ–¥—ã–¥—É—â–∞—è/–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞" –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–µ –ø–æ –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ -->
    <div class="d-flex align-items-center">
        <span class="me-3">{{ pagination.rows_showing }}</span>
        <div class="btn-group">
            <a href="{{ url_for('explore', page=pagination.current_page-1) }}"
                class="btn btn-outline-primary {% if not pagination.has_prev %}disabled{% endif %}">
                –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            </a>
            <a href="{{ url_for('explore', page=pagination.current_page+1) }}"
                class="btn btn-outline-primary {% if not pagination.has_next %}disabled{% endif %}">
                –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            </a>
        </div>
    </div>
</div>
{% endif %}

<hr id="stats">
<h4>üìä –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</h4>
<div class="table-responsive">
    {{ describe | safe }}
</div>

<hr id="dtypes">
<h4>üìÑ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</h4>
<div class="table-responsive">
    {{ dtypes | safe }}
</div>

<hr id="nulls">
<h4>‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</h4>
<div class="table-responsive">
    {{ nulls | safe }}
</div>

<hr id="anomalies">
<h4>üîç –ê–Ω–æ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–º–µ—Ç–æ–¥ –º–µ–∂–∫–≤–∞—Ä—Ç–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–∞—Ö–∞ - IQR)</h4>
<div class="table-responsive">
    {{ anomalies | safe }}
</div>

<style>
    /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç–∞–±–ª–∏—Ü –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é */
    .table th {
        text-align: left !important;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ */
    .btn-group .btn {
        padding: 0.375rem 0.75rem;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —è–∫–æ—Ä–µ–π –∏ —Å–µ–∫—Ü–∏–π */
    #head,
    #stats,
    #dtypes,
    #nulls,
    #anomalies {
        scroll-margin-top: 80px;
    }

    /* –û—Ç—Å—Ç—É–ø—ã –¥–ª—è —Å–µ–∫—Ü–∏–π */
    hr+h4 {
        margin-top: 20px;
        padding-top: 10px;
    }
</style>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫
    document.addEventListener('DOMContentLoaded', function () {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })
    });
</script>
{% endblock %}